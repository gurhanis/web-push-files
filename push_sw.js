"use strict";self.addEventListener("push",function(t){if(t.data){var i=JSON.parse(t.data.text());i.shop_id&&fetch("https://api.rees46.com/web_push_subscriptions/received",{mode:"cors",method:"post",credentials:"include",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:"url="+encodeURIComponent(i.url)+"&shop_id="+encodeURIComponent(i.shop_id)}),t.waitUntil(self.registration.showNotification(i.title,{body:i.body,icon:i.icon,tag:"rees46-push-notification",actions:i.actions||[],data:{url:i.url,action_urls:i.action_urls||[]}}))}}),self.addEventListener("notificationclick",function(t){if(t.notification.close(),Notification.prototype.hasOwnProperty("data")){var i=t.notification.data.url,o=t.notification.data.action_urls||[];"b0"===t.action&&"undefined"!=typeof o[0]?i=o[0]:"b1"===t.action&&"undefined"!=typeof o[1]&&(i=o[1]),t.waitUntil(clients.openWindow(i))}});